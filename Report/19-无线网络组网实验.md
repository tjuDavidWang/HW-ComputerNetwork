# 无线网络组网实验

2023/11/13

## 实验目的

1. 理解和掌握无线网络（Wi-Fi）的基本组成和工作原理。
2. 学习配置和管理无线路由器及接入点（AP）。
3. 研究无线网络在实际环境中的设置和问题解决方法。

## 实验原理 

1. **无线网络的基础**
   - 无线电波传输: Wi-Fi网络利用无线电波传输数据。这些波长位于无线电频谱的特定部分，通常是2.4 GHz或5 GHz频段。

   - 调制技术: Wi-Fi使用多种调制技术（如QAM）来在无线电波中编码数据，这允许高速数据传输。

2. **IEEE 802.11标准**
   - 标准概览: IEEE 802.11是一系列关于无线局域网（WLAN）技术的标准。这些标准定义了无线网络的物理层和数据链路层的协议。

   - 不同版本: 包括802.11a, 802.11b, 802.11g, 802.11n等，每个版本都有其特定的速度和频段特性。

3. **网络设备和架构**
   - 路由器和接入点(AP): 路由器提供网络接入和数据包路由功能，而AP（Access Point）作为无线网络的接入点，扩展了有线网络的覆盖范围。

   - 网络拓扑: 实验中可能使用不同的网络拓扑结构，例如星型拓扑，其中中心节点是无线路由器。

4. **网络配置与管理**
   - IP地址配置: 网络设备需要被分配IP地址以便于互相识别和通信。

   - DHCP服务: 动态主机配置协议（DHCP）用于自动分配网络参数（如IP地址），简化网络管理。

5. **安全性和认证**
   - 加密协议: 如WEP, WPA, WPA2，用于保护无线网络不被未授权访问。

   - 鉴权机制: 确保只有经过验证的用户和设备可以连接到网络。

6. **性能因素**
   - 信号强度和覆盖范围: 无线网络的性能受到物理环境、设备质量和距离的影响。

   - 干扰和容量: 其他无线设备和网络可以影响Wi-Fi网络的性能，尤其是在拥挤的频段。

## 实验设备 

- 操作系统：Windows 11
- 网络环境：局域网
- 软件：Cisco Packet Tracer虚拟实验环境

## 实验步骤

1. 按照下图所示，连接电线构成网络

   ![image-20231113141505321](C:\Users\12920\AppData\Roaming\Typora\typora-user-images\image-20231113141505321.png)


2. 配置路由器Roter0口的IP地址

   ```cpp
   interface FastEthernet0/0
   ip address 192.168.1.1 255.255.255.0
   interface FastEthernet0/1
   ip address 192.168.2.1 255.255.255.0
   ```

3. 配置路由器的左右两边的DHCP

   ```cpp
   //路由器DHCP左边网络
   ip dhcp excluded-address 192.168.1.0 192.168.1.10
   ip dhcp pool myleftnet
   network 192.168.1.0 255.255.255.0
   default-router 192.168.1.1
   option 150 ip 192.168.1.3
   dns-server 192.168.1.2
   //路由器DHCP右边网络
   ip dhcp excluded-address 192.168.2.0 192.168.2.10
   ip dhcp pool myrightnet
   network 192.168.2.0 255.255.255.0
   default-router 192.168.2.1
   option 150 ip 192.168.2.3
   dns-server 192.168.2.2
   ```

4. 配置无线路由器

   - 将其连接类型选为DHCP

   - 将其IP地址配置为`192.168.4.1`，子网掩码`255.255.255.0`

   - 配置无线网络的名称SSID，设置为R0；配置无线信道的数量为1；不启用（Disabled）无线网络的认证方法

   - 此外，需要外PC接入网卡以实现无线连网功能

     ![8d075b4c83800165ec99e733ef58024](C:\Users\12920\Documents\WeChat Files\wxid_fgqjq7s5d61c22\FileStorage\Temp\8d075b4c83800165ec99e733ef58024.png)

5. 配置AP接入点

   - 配置无线网络的名称SSID，设置为AP；配置无线信道的数量为6；不启用（Disabled）无线网络的认证方法

     ![image-20231113162101198](C:\Users\12920\AppData\Roaming\Typora\typora-user-images\image-20231113162101198.png)

6. 将PC分别连接到AP与无线路由器上

   ![2fd5418b60fd627d7b32e258cc62ee8](C:\Users\12920\Documents\WeChat Files\wxid_fgqjq7s5d61c22\FileStorage\Temp\2fd5418b60fd627d7b32e258cc62ee8.png)

7. <u>为无线路由器配置密码并进行测试</u>

   分别为无线路由器和PC配置WEP无线保护协议以及相应的密码，观察实验现象

   ![image-20231113153017354](C:\Users\12920\AppData\Roaming\Typora\typora-user-images\image-20231113153017354.png)

8. <u>观测各个PC终端的连通情况</u>

## 实验现象

1. 当将无线路由器配置好WEP而PC4、PC6没配好时，虚线消失；当PC4、PC6也配好后，虚线出现，无线网络再次连接成功。

   <img src="C:\Users\12920\AppData\Roaming\Typora\typora-user-images\image-20231113154059243.png" alt="image-20231113154059243" style="zoom:50%;" />

2. 外界无法ping到通过无线网络连接的PC，但这些PC可以ping到外界，且这些PC可以相互ping；其他的ping均正常进行。

   ![image-20231113153951572](C:\Users\12920\AppData\Roaming\Typora\typora-user-images\image-20231113153951572.png)


## 分析讨论 

1. **如果再接入一台路由器如何配置？**

   1. 选择一个未被使用的IP地址段以避免与现有网络冲突。例如，如192.168.5.x或其他任何未使用的地址段。
   2. 将两个路由器通过串口线相连接
   3. 分别配置RA与RB的`OSPF`路由表从而构造数据传输链路

2. **如果改为静态IP地址如何处理？**

   1. 规划IP地址：确定每个设备的静态IP地址。确保这些地址在各自的子网内且不与其他设备冲突。
   2. 配置路由器：路由器通常已经配置了静态IP地址。确保Router0的两个接口保持现有的静态IP地址配置，这些地址作为连接到相应交换机的设备的默认网关。
   3. 配置PC和笔记本电脑：为每台PC和笔记本电脑手动设置IP地址。例如，PC0可以设置为192.168.1.2，子网掩码255.255.255.0，默认网关192.168.1.1，DNS根据您的网络环境设置。对于连接到Switch1的设备，IP地址应在192.168.2.x范围内，子网掩码和默认网关应相应地调整。
   4. 配置无线路由器：无线路由器如果作为一个接入点，它可能已经配置了静态IP地址，如192.168.4.1。确保它的LAN设置与主路由器Router0在同一个网络段，或者如果它在不同的子网，则确保路由器间可以路由到该子网。
   5. 配置无线接入点：如果无线接入点在不同的子网，为其分配一个静态IP地址，确保该地址与该子网内的其他设备不冲突。
   6. 验证配置：在每个设备上测试网络连接。可以使用ping命令来测试设备之间的连接性。

3. **为什么ping不通？**

   由于无线路由器位于192.168.4.0/24子网，而DHCP服务器配置的是192.168.2.0/24子网，所以连接到无线路由器的设备可能无法正确路由，因为它们被分配到了错误的子网。

   查阅资料有以下描述：

   > 1. **DHCP服务配置问题**：由于Router0的DHCP配置是为192.168.2.0/24网络服务的，它不会为连接到无线路由器的设备提供IP地址，因为这些设备位于192.168.4.0/24网络。
   > 2. **路由问题**：即使设备手动配置了位于192.168.4.0/24子网的静态IP地址，<u>Router0也需要知道如何到达192.168.4.0/24网络</u>。这通常通过在Router0上设置一个静态路由来完成，该路由指向无线路由器的WAN接口IP地址。
   > 3. **网络隔离**：由于无线路由器创建了一个新的、不同的子网（192.168.4.0/24），只有正确配置了路由的设备才能与之通信。如果没有适当的路由，网络上的其他设备（比如那些连接到Switch0和Switch1的设备）将无法访问连接到无线路由器的设备。

   **子网内能相互ping通**：无线路由器构建了192.168.4.0/24这个子网。当PC在这个无线子网中被配置为静态IP地址，或者无线路由器通过它自己的DHCP服务为它们提供了IP地址时，这些PC都会在同一个广播域内。在同一个广播域内的设备可以直接通信，不需要通过路由器进行路由。这就是为什么它们可以相互ping通的原因。
