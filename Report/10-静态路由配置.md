# 静态路由配置

2023/10/09

## 实验目的

本实验旨在掌握静态路由的基本原理，学习静态路由的配置命令，理解静态路由的优缺点，并实际操作静态路由的配置，验证其通信功能。

## 实验原理 

静态路由的基本原理是基于预先设定的、固定的路由路径来转发数据包，而不是基于当前网络状态或动态学习的路由信息。以下是静态路由的关键原理点：

1. **定义与特点**：静态路由是指由网络管理员手工配置的路由信息，它不像动态路由那样会自动调整。；该路由信息在缺省情况下是私有的，不会传递给其他路由器。但管理员也可以设置其为共享。
2. **适用场景**：由于静态路由不会随网络状态的变化而变化，所以它特别适用于拓扑结构固定、变化较少的小型网络；在一个简单、清晰的网络环境中，静态路由能够提供稳定和可预测的路由选择。
3. **安全性**：静态路由的一个重要优点是其高度的安全性。与动态路由相比，静态路由不需要路由器之间频繁地交换路由信息，这减少了潜在的安全威胁；由于静态路由不公开网络的拓扑结构和地址信息，它对于那些出于安全考虑需要隐藏网络结构的场景是非常有益的。
4. **局限性**：在大型和复杂的网络环境中，静态路由可能不是一个理想的选择。网络管理员可能难以全面地了解整个网络的拓扑结构；当网络的拓扑结构和链路状态发生变化时，静态路由需要手工进行大范围的调整，这增加了网络维护的难度和复杂性。
5. **对比动态路由**：动态路由协议可以自动地学习和适应网络拓扑的变化，而静态路由则需要人工进行配置和维护；但是，动态路由协议可能会因为频繁地交换路由信息而导致网络资源的浪费，并可能暴露网络的拓扑结构，这在某些高安全需求的场景中是不可接受的。

简而言之，静态路由原理基于固定、预设的路径进行数据传输，它提供了稳定性和确定性，但缺乏网络的自适应性。

## 实验设备 

- 操作系统：Windows 10
- 网络环境：局域网
- 软件：Cisco Packet Tracer虚拟实验环境

## 实验步骤

1. 打开软件，进入实验环境

2. 使用路由器、PC主机与交叉线线搭出如下的通信图（路由器的f0/0口接着PC端，f0/1接着另一个路由器）：

   ![捕获1](C:\Users\12920\Desktop\截图\截图\捕获1.PNG)

3. 进入路由器的配置界面，可选择用命令行或图形化界面进行配置，本实验中我采用的是图形化界面。

4. 配置路由器Router0的相关属性：

   - 将`FastEthernet0/0`接口配置IP地址为`192.168.1.1`，子网掩码为`255.255.255.0`

     ![8](C:\Users\12920\Desktop\截图\截图\8.PNG)

     或在CLI中使用以下指令

     ```bash
     ip address 192.168.1.1 255.255.255.0
     ```

   - 将`FastEthernet0/1`接口配置IP地址为`192.168.2.1`和子网掩码`255.255.255.0`

     ![10](C:\Users\12920\Desktop\截图\截图\10.PNG)

     或在CLI中使用以下指令

     ```bash
     ip address 192.168.2.1 255.255.255.0
     ```

   - 添加一个静态路由。要到达`192.168.3.0/24`网络（目标网段IP地址和子网掩码表示的网络），应该通过下一跳地址`192.168.2.2`。要到达`192.168.3.0/24`网络，应该通过`f0/1`接口出去

     ![7](C:\Users\12920\Desktop\截图\截图\7.PNG)

     或在CLI中输入如下命令

     ```bash
     ip route 192.168.3.0 255.255.255.0 192.168.2.2
     ip route 192.168.3.0 255.255.255.0 f0/1
     ```

5. 配置路由器Router0的相关属性：

   解释同上，具体为在CLI中输入以下命令

   ```bash
   configure terminal
   interface fastehernet0/0
   ip address 192.168.3.1 255.255.255.0
   no shutdown
   interface fastehernet0/1
   ip address 192.168.2.2 255.255.255.0
   no shutdown
   ip route 192.168.1.0 255.255.255.0 192.168.2.1 
   ip route 192.168.1.0 255.255.255.0 fastehernet0/1
   exit
   ```

6. 配置PC0与PC0各自的IP地址与网关地址

   PC0分别是`192.168.1.10`与`192.168.1.1`

   PC1分别是`192.168.3.10`与`192.168.3.1`

   ![image-20231009235303372](C:\Users\12920\Desktop\image-20231009235303372.png)

7. PC0与PC1之间的ping通信

   - 在PC0的Prompt Terminal中输入ping 192.168.3.1接收PC1的消息
   - 在PC0的Prompt Terminal中输入ping 192.168.1.1接收PC0的消息

8. 在Route0与Route1的CLI中分别输入`show ip route`分别查看静态路由表

## 实验现象

1. ping通信成功，截图如下：

   ![image-20231009235119894](C:\Users\12920\Desktop\image-20231009235119894.png)

2. 可以正常打印静态路由表

   ![image-20231010001802344](C:\Users\12920\Desktop\image-20231010001802344.png)


## 分析讨论 

1. **一开始并不能ping到另一PC的消息，且ip等配置正确：**

   检测连线，发现连线错误，导致端口不匹配，修改后便可以ping成功了

2. **为了方便于查看，现将ip与网关整理如下：**

​		![image-20231010000844576](C:\Users\12920\Desktop\image-20231010000844576.png)